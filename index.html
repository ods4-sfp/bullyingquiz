<style>
body {
	background-color: #c21e32;
	justify-content: center;
	justify-items: center;
	display: grid;
	transition: all 0.3s ease-in-out;
}
.qTitle{
	color: #fff;
	font-family: Bahnschrift;
	font-size: 36;
	text-align: center;
}
.qButton{
	color: #c21e32;
	background-color: #fff;
	font-family: Bahnschrift;
	font-size: 22;
	border: 1px solid #c21e32;
	border-radius: 5px;
	width: 320;
	height: 50px;
	opacity: 1;
	transition: opacity 0.5s ease-in-out, all 0.5s ease-in-out;
}
.qButton:hover{
	border-color: #fff;
	border-width: 10px;
	opacity: 0.8;
}
.qBuCont{
	display: grid;
	grid-template-columns: 1fr 1fr 1fr;
	width: 1100;
}
.CIButton{
	color: #c21e32;
	background-color: #fff;
	font-family: Bahnschrift;
	font-size: 36;
	border: 1px solid #c21e32;
	border-radius: 5px;
	width: 500;
	height: 60;
	opacity: 1;
	transition: opacity 0.5s ease-in-out, all 0.5s ease-in-out;
}
.Reason {
	width: 60%;
	text-align: center;
	color: #fff;
	font-size: 32;
}
.centerDiv{ 
	display: grid;justify-items: center
}
.next {
	color: #c21e32;
	background-color: #fff;
	font-family: Bahnschrift;
	font-size: 22;
	border: 1px solid #c21e32;
	border-radius: 5px;
	width: 50;
	height: 60;
	opacity: 1;
	transition: opacity 0.5s ease-in-out, all 0.5s ease-in-out;
}
.next:hover{
	border-color: #fff;
	border-width: 15px;
	opacity: 0.8;
}
div[id="response"]{
	opacity: 0;
	transition: all 0.5s ease-in-out;
}
</style>
<body id="body">
	<div><h1 class="qTitle">¿Cuántos suicidios infantiles están ligados al acoso escolar por año en el mundo?</h1></div>
	<div class="qBuCont">
		<div  style='display: grid;justify-content: center;'><button id="b1" class="qButton" onclick="q1clicked('INCORRECTO...', 'b1')">53 suicidios</button></div>
		<div style='display: grid;justify-content: center;'><button id="b2" class="qButton" onclick="q1clicked('INCORRECTO...', 'b2')">607 suicidios</button></div>
		<div  style='display: grid;justify-content: center;'><button id="b3" class="qButton" onclick="q1clicked('CORRECTO!', 'b3')">200 000 suicidios</button></div>
	</div>
	<div id="response">
	</div>


<script src="https://www.gstatic.com/firebasejs/8.2.3/firebase.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript">
console.log("start!");
var ftime = true;
/*import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
import { getDatabase, ref, set, onValue } from "firebase/database";*/

// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCtWSlomSD_7XQs8vNkFjmLoiluc9sQ2ig",
  authDomain: "bullyingquiz.firebaseapp.com",
  projectId: "bullyingquiz",
  storageBucket: "bullyingquiz.appspot.com",
  messagingSenderId: "867266489279",
  appId: "1:867266489279:web:aab15a572a06c96b904f0a",
  measurementId: "G-PJSDWTD10K"
};
// Initialize Firebase
   const app = firebase.initializeApp(firebaseConfig);

    const db = firebase.database();




	var answer = {"q1":"", "q2":"", "q3":"", "q4":""}




	function q1clicked(correct, button) {
		if (answer["q1"] === "") {
		document.getElementById("response").innerHTML = '<div style="display: grid; justify-content: center;margin: 30px;grid-template-columns: 500px 10px 50px;"><button class="CIButton">'+correct+'</button><div></div><button class="next" onclick="p2()"">→</button></div><div class="centerDiv"><h1 class="reason">En el Mundo, hay 200,000 suicidios al año causados por el acoso escolar. <br> Estos es 2 veces más que todas las victimas del COVID-19 en España.</h1></div>';
		document.getElementById("response").style = "opacity: 1;"
		document.getElementById("b1").style = "border-color: #c21e32 !important; border-width: 1px !important; opacity: 0.5 !important;"
		document.getElementById("b2").style = "border-color: #c21e32 !important; border-width: 1px !important; opacity: 0.5 !important;"
		document.getElementById(button).style = "border-color: #fff !important; color: #fff; background-color: #c21e32 !important ;border-width: 3px !important; opacity: 0.5 !important;"
		document.getElementById("b3").style = "border-color: #c21e32 !important; border-width: 1px !important; opacity: 1 !important;"
		
		answer["q1"] = correct+" , "+{"b1":"53 suicidios", "b2": "607 suicidios", "b3":"200,000 suicidios"}[button];
		}
	}

	function q2clicked(correct, button) {
		if (answer["q2"] === "") {
		document.getElementById("response").innerHTML = '<div style="display: grid; justify-content: center;margin: 30px;grid-template-columns: 500px 10px 50px;"><button class="CIButton">'+correct+'</button><div></div><button class="next" onclick="p3()"">→</button></div><div class="centerDiv"><h1 class="reason">En Europa, hay 24,000,000 personas que sufren bullying cada año, según el informe de BSF en 2020/21. <br> 24 millones representa a el tercio de la populación juvenil Europa.</h1></div>';
		document.getElementById("response").style = "opacity: 1;"
		document.getElementById("b1").style = "border-color: #c21e32 !important; border-width: 1px !important; opacity: 0.5 !important;"
		document.getElementById("b3").style = "border-color: #c21e32 !important; border-width: 1px !important; opacity: 0.5 !important;"
		document.getElementById(button).style = "border-color: #fff !important; color: #fff; background-color: #c21e32 !important ;border-width: 3px !important; opacity: 0.5 !important;"
		document.getElementById("b2").style = "border-color: #c21e32 !important; border-width: 1px !important; opacity: 1 !important;"
		answer["q2"] = correct+" , "+{"b1":"1,500,000 personas", "b2": "24,000,000 personas", "b3":"74,000,000 personas"}[button];
		}
	}

	function q3clicked(correct, button) {
		if (answer["q3"] === "") {
		document.getElementById("response").innerHTML = '<div style="display: grid; justify-content: center;margin: 30px;grid-template-columns: 500px 10px 50px;"><button class="CIButton">'+correct+'</button><div></div><button class="next" onclick="p4()"">→</button></div><div class="centerDiv"><h1 class="reason">España es el segundo país con más bullying de la UE, con 11,229 casos, y después de Irlanda. <br> España también es el 4º país con más bullying de Europa, detrás del Reino Unido, Rusia e Irlanda. </h1></div>';
		document.getElementById("response").style = "opacity: 1;"
		document.getElementById("b1").style = "border-color: #c21e32 !important; border-width: 1px !important; opacity: 0.5 !important;"
		document.getElementById("b3").style = "border-color: #c21e32 !important; border-width: 1px !important; opacity: 0.5 !important;"
		document.getElementById(button).style = "border-color: #fff !important; color: #fff; background-color: #c21e32 !important ;border-width: 3px !important; opacity: 0.5 !important;"
		document.getElementById("b2").style = "border-color: #c21e32 !important; border-width: 1px !important; opacity: 1 !important;"
		answer["q3"] = correct+" , "+{"b1":"1º", "b2": "2º", "b3":"3º"}[button];
		}
	}

	function q4clicked(correct, button) {
		if (answer["q4"] === "") {
		document.getElementById("response").innerHTML = '<div style="display: grid; justify-content: center;margin: 30px;grid-template-columns: 500px 10px 50px;"><button class="CIButton">'+correct+'</button><div></div><button class="next" onclick="p5()"">→</button></div><div class="centerDiv"><h1 class="reason">El acoso escolar en España ha subido de 20% de 2020 a 2021, ya que en 2020 se apuntó 10,000 casos, y en 2021, 11,229.</h1></div>';
		document.getElementById("response").style = "opacity: 1;"
		document.getElementById("b2").style = "border-color: #c21e32 !important; border-width: 1px !important; opacity: 0.5 !important;"
		document.getElementById("b3").style = "border-color: #c21e32 !important; border-width: 1px !important; opacity: 0.5 !important;"
		document.getElementById(button).style = "border-color: #fff !important; color: #fff; background-color: #c21e32 !important ;border-width: 3px !important; opacity: 0.5 !important;"
		document.getElementById("b1").style = "border-color: #c21e32 !important; border-width: 1px !important; opacity: 1 !important;"
		answer["q4"] = correct+" , "+{"b1":"20% más", "b2": "7% más", "b3":"2% más"}[button];
		}
	}

function p2() {
	document.getElementById("body").style.opacity = 0;
	setTimeout(function () {
		document.getElementById("body").innerHTML = '<div><h1 class="qTitle">¿Cuántas personas sufren del acoso en Europa por año?</h1></div><div class="qBuCont"><div  style="display: grid;justify-content: center;"><button id="b1" class="qButton" onclick = "q2clicked('+"'"+'INCORRECTO...'+"','b1')"+'">1,500,000 personas</button></div><div style="display: grid;justify-content: center;"><button id="b2" class="qButton" onclick="q2clicked('+"'"+"CORRECTO!','b2'"+')">24,000,000 personas</button></div><div  style="display: grid;justify-content: center;"><button id="b3" class="qButton" onclick="q2clicked('+"'"+"INCORRECTO...','b3')"+'"">74,000,000 personas</button></div></div><div id="response"> </div>';	
			document.getElementById("body").style.opacity = 1;
	}, 500)
	
}
function p3() {
	document.getElementById("body").style.opacity = 0;
	setTimeout(function () {
		document.getElementById("body").innerHTML = '<div><h1 class="qTitle">¿En qué posición esta España en la UE en términos de bullying?</h1></div><div class="qBuCont"><div  style="display: grid;justify-content: center;"><button id="b1" class="qButton" onclick = "q3clicked('+"'"+'INCORRECTO...'+"','b1')"+'">1º</button></div><div style="display: grid;justify-content: center;"><button id="b2" class="qButton" onclick="q3clicked('+"'"+"CORRECTO!','b2'"+')">2º</button></div><div  style="display: grid;justify-content: center;"><button id="b3" class="qButton" onclick="q3clicked('+"'"+"INCORRECTO...','b3')"+'"">3º</button></div></div><div id="response"> </div>';	
			document.getElementById("body").style.opacity = 1;
	}, 500)
	
}
function p4() {
	document.getElementById("body").style.opacity = 0;
	setTimeout(function () {
		document.getElementById("body").innerHTML = '<div><h1 class="qTitle">¿De cuánto ha aumentado el bullying en España el año pasado respecto al año anterior?</h1></div><div class="qBuCont"><div  style="display: grid;justify-content: center;"><button id="b1" class="qButton" onclick = "q4clicked('+"'"+'CORRECTO!'+"','b1')"+'">20% más</button></div><div style="display: grid;justify-content: center;"><button id="b2" class="qButton" onclick="q4clicked('+"'"+"INCORRECTO...','b2'"+')">7% más</button></div><div  style="display: grid;justify-content: center;"><button id="b3" class="qButton" onclick="q4clicked('+"'"+"INCORRECTO...','b3')"+'"">2% más</button></div></div><div id="response"> </div>';
			document.getElementById("body").style.opacity = 1;
	}, 500)
	
}
function p5() {
	document.getElementById("body").style.opacity = 0;
	setTimeout(function () {
		document.getElementById("body").innerHTML = '<div style="height: 200px;"></div><div style="height: 60px"><h1 class="qTitle">Muchas gracias por su tiempo</h1></div><div class="centerDiv"><h1 class="reason" style="font-size: 16; width: 90%;">Mediante este cuestionario, intentamos concienciar la gente, y saber que sabe ella.';
			document.getElementById("body").style.opacity = 1;
			firebase.database().ref().on('value', function (snapshot){
				var len = 1;
				if (snapshot.exists()) {
					for (var data in snapshot.val()){
						//console.log(snapshot.val()[data]);	
						len += 1
					}
				}
					console.log(len)
					if (ftime === true) {
						console.log(ftime);
						ftime = false
						firebase.database().ref().child(len).set(answer)
						
					}
			})
	}, 500)
}
</script> 
</body>
